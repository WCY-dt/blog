---
layout: post
title:  "qqxml <img src='https://img.shields.io/badge/-转载-C9284D?style=flat'>"
date:   2020-08-02 00:00:00 +0800
categories: archieve
tags: qq xml
comments: 1
mathjax: true
---

本文介绍qqxml自定义卡片的发送方法。

<!-- more -->

![](https://img.shields.io/badge/reproduced-CSDN-blue) ![](https://img.shields.io/badge/license-GPL 3.0-orange) ![](https://img.shields.io/badge/article quality-B+-yellowgreen)

# qqxml内存查找

在这之前，请确保您已经下载安装了：

- 电脑版QQ
- Cheat Engine

首先我们随便分享一个卡片消息，接下来修改这个卡片：

- 选择一个会话窗口

- 设置搜索的数据为字符串`String`

- 这里搜索`[阿深]发红包啦`，点击新的搜索<kbd>New Scan</kbd>

上面说过我们的目的是要改变内存中的数据，但是这里会发现我们搜索出来了很多条数据，而且这些数据只有一条是改变之后起作用的。

<img src="https://img-blog.csdn.net/20181021214236653?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4MDIxNzI0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="50%" align="middle">

在搜索结果中<kbd>ctrl</kbd>+<kbd>A</kbd> 全部选中，右键点击第2个选项，然后任意修改，这里修改为`[阿深]1发红包啦`,点击<kbd>ok</kbd>。

<img src="https://img-blog.csdn.net/20181021214309373?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4MDIxNzI0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="50%" align="middle">

然后找到我们使用工具创建的卡片，转发出去，我们看到卡片已经改变了。

<img src="https://img-blog.csdn.net/20181021014429884?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4MDIxNzI0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="50%" align="middle">

然后我们继续搜索刚才改变之后的数据，会发现数据已经变少了。

<img src="https://img-blog.csdn.net/20181021214425656?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4MDIxNzI0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="50%" align="middle">

接下来我们选择部分数据进行修改，然后转发原卡片。

<img src="https://img-blog.csdn.net/20181021214459445?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4MDIxNzI0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="50%" align="middle">

很好我们会发现卡片又发生了变化，说明我们要找的那唯一一条数据就在我们在选中的这几条数据中。

<img src="https://img-blog.csdn.net/20181021020154147?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4MDIxNzI0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="50%" align="middle">

那我们就直接把没用的数据给干掉，然后搜索新改变的数据

<img src="https://img-blog.csdn.net/20181021214526966?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4MDIxNzI0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="50%" align="middle">

我们继续选中部分数据进行修改。

<img src="https://img-blog.csdn.net/20181021214555171?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4MDIxNzI0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="50%" align="middle">

然后再转发原卡片，这是我们发现转发的消息并没有发生改变，直接把刚才修改的数据给干掉。

<img src="https://img-blog.csdn.net/2018102102082779?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4MDIxNzI0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="50%" align="middle">

以此类推直到数据只剩最后一条为止。

<img src="https://img-blog.csdn.net/2018102121463261?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4MDIxNzI0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="50%" align="middle">

选择最后一条数据右键打开内存区域。

<img src="https://img-blog.csdn.net/20181021214659226?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4MDIxNzI0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="50%" align="middle">

打开结果如题所示，在操作之前我们需要把字符串的编码格式修改为`UTF_8`格式。

<img src="https://img-blog.csdn.net/20181021214810582?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4MDIxNzI0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="50%" align="middle">

然后按键盘的上方向键浏览内存区域的数据找到 `<?xml version`这个东西选中尖括号（`<`）右键点击倒数第三的东西会弹出个框直接点确认就行，把它添加到类表中。

<img src="https://img-blog.csdn.net/20181021214832737?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4MDIxNzI0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="50%" align="middle">

<img src="https://img-blog.csdn.net/20181021214901540?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4MDIxNzI0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="50%" align="middle">

在框里修改xml数据

<img src="https://img-blog.csdn.net/2018102102330975?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4MDIxNzI0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="50%" align="middle">

很显然我们成功了

<img src="https://img-blog.csdn.net/20181021025428372?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4MDIxNzI0/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" width="50%" align="middle">

# qqxml样式标志

## 基础框架

```xml
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<msg serviceID="1"></msg>
```

框架中的消息内容里至少有一项内容才能发送出去

```xml
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<msg serviceID="1">
<item layout="2"><title>生死8秒！女司机高速急刹，他一个操作救下一车性命</title></item>
</msg>
```

<img src="https://images2018.cnblogs.com/blog/1359883/201806/1359883-20180613202341968-1786641659.png" width="30%" align="middle">

 

## 消息设置

### 简要提示

```xml
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<msg serviceID="1"
     brief="[QQ红包]发红包啦！">
    <item>
        <title>生死8秒！女司机高速急刹，他一个操作救下一车性命</title>
    </item>
</msg>
```

<img src="https://images2018.cnblogs.com/blog/1359883/201806/1359883-20180613202645786-78581637.png" width="30%" align="middle">

### 点击打开资料卡

```xml
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<msg serviceID="1"
     action="plugin" 
     actionData="mqqapi://card/show_pslcard?src_type=internal&amp;source=sharecard&amp;version=1&amp;uin=2221234077">
    <item>
        <title>生死8秒！女司机高速急刹，他一个操作救下一车性命</title>
    </item>
</msg>
```

### 点击打开网页

```xml
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<msg serviceID="1"
     action="web" 
     url="http://buluo.qq.com/mobile/detail.html?bid=12372&amp;pid=4694151-1528083221&amp;_bid=128&amp;_wv=1027#from=grp_sub_obj&amp;gid=613689927&amp;_wv=1027">
    <item>
        <title>生死8秒！女司机高速急刹，他一个操作救下一车性命</title>
    </item>
</msg>
```

## 消息内容

### 标题

```xml
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<msg serviceID="1">
    <item>
        <title>生死8秒！女司机高速急刹，他一个操作救下一车性命</title>
    </item>
</msg>
```

<img src="https://images2018.cnblogs.com/blog/1359883/201806/1359883-20180613204023607-2078613222.png" width="30%" align="middle">

### 正文

```xml
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<msg serviceID="1">
    <item>
        <title>test title</title>
        <summary>test content</summary>
    </item>
</msg>
```

<img src="https://images2018.cnblogs.com/blog/1359883/201806/1359883-20180613204320172-872704108.png" width="30%" align="middle">

### 图片

```xml
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<msg serviceID="1">
    <item>
        <title>test title</title>
        <summary>test content</summary>
        <picture cover="http://url.cn/5CEwIUy"/>
    </item>
</msg>
```

<img src="https://images2018.cnblogs.com/blog/1359883/201806/1359883-20180613204515310-491653686.png" width="30%" align="middle">

## 消息后缀

```xml
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<msg serviceID="1">
    <item>
        <title>生死8秒！女司机高速急刹，他一个操作救下一车性命</title>
    </item>
    <source name="官方认证消息" 
            icon="https://qzs.qq.com/ac/qzone_v5/client/auth_icon.png" 
            action="" 
            appid="-1" />
</msg>
```

<img src="https://images2018.cnblogs.com/blog/1359883/201806/1359883-20180613203823554-945983846.png" width="30%" align="middle">

 

## 内容板块样式

### 样式1

```xml
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<msg serviceID="1">
    <item>
        <title>test title</title>
        <summary>test content</summary>
        <picture cover="http://url.cn/5CEwIUy"/>
    </item>
</msg>
```

<img src="https://images2018.cnblogs.com/blog/1359883/201806/1359883-20180613204515310-491653686.png" width="30%" align="middle">

### 样式2

```xml
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<msg serviceID="1">
    <item layout="2">
        <title>test title</title>
        <summary>test content</summary>
        <picture cover="http://url.cn/5CEwIUy"/>
    </item>
</msg>
```

<img src="https://images2018.cnblogs.com/blog/1359883/201806/1359883-20180613205339381-1545100224.png" width="30%" align="middle">

### 样式3

```xml
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<msg serviceID="1">
    <item layout="9">
        <title>test title</title>
        <summary>test content</summary>
        <picture cover="http://url.cn/5CEwIUy"/>
    </item>
</msg>
```

<img src="https://images2018.cnblogs.com/blog/1359883/201806/1359883-20180613210006233-541141149.png" width="30%" align="middle">